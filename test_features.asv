clc; clear;
debug = 0;

pathClean = 'tortoise-clean.tif';
pathBlured = 'tortoise-blured.tif';

imgClean = rgb2gray(im2double(imread(pathClean)));
imgBlured = rgb2gray(im2double(imread(pathBlured)));

%figure(1),imshow(calcPeakedness(imgClean,11));
%figure(2),imshow(calcPeakedness(imgBlured,11));

%figure(1),imshow(calcHeavyTailedness(imgClean,11));
%figure(2),imshow(calcHeavyTailedness(imgBlured,11));

%htc = calcHeavyTailedness(imgClean,11);
%qc = calcSpectrumSlope(imgBlured, 11);

load('Reference Code\blur_detection\learned_linear_filter.mat');

qf = calcLearnedFilter(imgClean,W_11);
figure(1),imshow(qf{1,1},[min(min(qf{1,1})) max(max(qf{1,1}))]);

qf = calcLearnedFilter(imgBlured,W_11);
imshow(qf{2,1},[min(min(qf{2,1})) max(max(qf{2,1}))]);